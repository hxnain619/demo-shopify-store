<div x-show="address_{{modal_id}}" class="h-full w-full fixed inset-0 bg-black/60 overflow-y-auto z-50 shadow-md">
  <div class="relative max-w-md mx-auto bg-white border top-20 p-4">
    <div class="flex items-center justify-between mb-4">
      <h2 class="text-lg font-medium">{{ modal_title }}</h2>
      <button x-on:click="address_{{modal_id}} = false" class="text-gray-500">{% render 'icon-close' %}</button>
    </div>

    {% form 'customer_address', address_customer_id %}
      <div class="mb-4">
        <label for="address_fname_{{ form.id }}" class="uppercase text-gray-700 text-xs font-medium mb-2"
          >First name</label
        >
        <input
          type="text"
          name="address[first_name]"
          id="address_fname_{{ form.id }}"
          value="{{ form.first_name }}"
          class="w-full text-gray-700 border px-4 py-3 focus:outline-none"
        >
      </div>

      <div class="mb-4">
        <label for="address_lname_{{ form.id }}" class="uppercase text-gray-700 text-xs font-medium mb-2"
          >Last name</label
        >
        <input
          type="text"
          name="address[last_name]"
          id="address_lname_{{ form.id }}"
          value="{{ form.last_name }}"
          class="w-full text-gray-700 border px-4 py-3 focus:outline-none"
        >
      </div>

      <div class="mb-4">
        <label for="address_company_{{ form.id }}" class="uppercase text-gray-700 text-xs font-medium mb-2"
          >Company</label
        >
        <input
          type="text"
          name="address[company]"
          id="address_company_{{ form.id }}"
          value="{{ form.company }}"
          class="w-full text-gray-700 border px-4 py-3 focus:outline-none"
        >
      </div>

      <div class="mb-4">
        <label for="address_address1_{{ form.id }}" class="uppercase text-gray-700 text-xs font-medium mb-2"
          >Address 1</label
        >
        <input
          type="text"
          name="address[address1]"
          id="address_address1_{{ form.id }}"
          value="{{ form.address1 }}"
          class="w-full text-gray-700 border px-4 py-3 focus:outline-none"
        >
      </div>

      <div class="mb-4">
        <label for="address_address2_{{ form.id }}" class="uppercase text-gray-700 text-xs font-medium mb-2"
          >Address 2</label
        >
        <input
          type="text"
          name="address[address2]"
          id="address_address2_{{ form.id }}"
          value="{{ form.address2 }}"
          class="w-full text-gray-700 border px-4 py-3 focus:outline-none"
        >
      </div>

      <div class="mb-4">
        <label for="address_city_{{ form.id }}" class="uppercase text-gray-700 text-xs font-medium mb-2">City</label>
        <input
          type="text"
          name="address[city]"
          id="address_city_{{ form.id }}"
          value="{{ form.city }}"
          class="w-full text-gray-700 border px-4 py-3 focus:outline-none"
        >
      </div>

      <div class="mb-4">
        <label for="address_country_{{ form.id }}" class="uppercase text-gray-700 text-xs font-medium mb-2"
          >Country</label
        >
        <select
          name="address[country]"
          id="address_country_{{ form.id }}"
          value="{{ form.country }}"
          class="w-full text-gray-700 border px-4 py-3 focus:outline-none"
          data-country-selector
          data-id="{{ form.id }}"
        >
          {{ all_country_option_tags }}
        </select>
      </div>

      <div class="mb-4">
        <label for="address_province_{{ form.id }}" class="uppercase text-gray-700 text-xs font-medium mb-2"
          >Province</label
        >
        <select
          name="address[province]"
          id="address_province_{{ form.id }}"
          value="{{ form.province }}"
          class="w-full text-gray-700 border px-4 py-3 focus:outline-none"
        ></select>
      </div>

      <div class="mb-4">
        <label for="address_zip_{{ form.id }}" class="uppercase text-gray-700 text-xs font-medium mb-2"
          >Postal/ZIP code</label
        >
        <input
          type="text"
          name="address[zip]"
          id="address_zip_{{ form.id }}"
          value="{{ form.zip }}"
          class="w-full text-gray-700 border px-4 py-3 focus:outline-none"
        >
      </div>

      <div class="mb-4">
        <label for="address_phone_{{ form.id }}" class="uppercase text-gray-700 text-xs font-medium mb-2"
          >Phone number</label
        >
        <input
          type="tel"
          name="address[phone]"
          id="address_phone_{{ form.id }}"
          value="{{ form.phone }}"
          class="w-full text-gray-700 border px-4 py-3 focus:outline-none"
        >
      </div>
      <div class="mb-4">
        {{ form.set_as_default_checkbox }}
        <label for="address_default_address_{{ form.id }}" class="uppercase text-gray-700 text-xs font-medium mb-2"
          >Set as default address</label
        >
      </div>

      <div class="flex flex-row gap-2">
        <button
          type="submit"
          class="w-full font-medium border text-white bg-black hover:bg-white hover:text-black px-4 py-2"
        >
          {{ button_title }}
        </button>
        <button
          type="reset"
          x-on:click="address_{{ modal_id }} = false"
          class="w-full font-medium text-gray-700 border border-gray-700 px-4 py-2"
        >
          Cancel
        </button>
      </div>
    {% endform %}
  </div>
</div>
